---
toc: content
group: 
  title: React开发
  order: 3
order: 4
---
# Webpack 和 Vite的对比
## 开发模式差异
在开发环境中，Webpack 是先打包再启动开发服务器，而 Vite 则是直接启动，然后再按需编译依赖文件。
这意味着，当使用 Webpack 时，所有的模块都需要在开发前进行打包，这会增加启动时间和构建时间。
而 Vite 则采用了不同的策略，它会在请求模块时再进行实时编译，这种按需动态编译的模式极大地缩短了编译时间，特别是在大型项目中，文件数量众多，Vite 的优势更为明显。

## 对ES Modules的支持不同
现代浏览器本身就支持 ES Modules，会主动发起请求去获取所需文件。Vite充分利用了这一点，将开发环境下的模块文件直接作为浏览器要执行的文件，而不是像 Webpack 那样先打包，再交给浏览器执行。这种方式减少了中间环节，提高了效率。

## 底层语言差异
Webpack 是基于 Node.js 构建的，而 Vite 则是基于 esbuild 进行预构建依赖。esbuild 是采用 Go 语言编写的，Go 语言是纳秒级别的，而 Node.js 是毫秒级别的。因此，Vite 在打包速度上相比Webpack 有 10-100 倍的提升。

## 构建方式
Webpack 通过构建整个项目的依赖图，将所有资源打包成一个或多个 bundle 文件，每次重启都需要打包。Vite 采用了即时编译的方式，在开发模式下通过浏览器原生支持的 ES Module 特性进行加载，不需要打包。

而且Vite还基于esbuild执行预构建依赖操作，即：在项目启动或构建之前，对项目中所需的依赖项进行预先的处理或构建。这样做的好处在于，当项目实际运行时，可以直接使用这些已经预构建好的依赖，而无需再进行实时的编译或构建，从而提高了应用程序的运行速度和效率。

webpack对应的特性是缓存，在二次构建时会跳过未变更的模块。而webpack5之前是DLLPlugin(动态链接库)，其原理是提前将第三方库打包成单独的dll.js文件，开发时直接引用，避免重复构建。

## 开发体验
Webpack 需要较多的配置，对复杂的项目来说，需要花费时间和精力来配置各种 loader 和 plugin。Vite 开箱即用，不需要复杂的配置即可快速启动项目，支持各种插件以满足特定需求。

## 热更新
Webpack 的热更新通常需要借助 webpack-dev-server 等插件，在一些情况下配置起来比较复杂。Vite 内置了基于浏览器原生模块热更新的开发服务器，无需额外配置即可实现快速的热更新。

## 配置复杂度
- Webpack
  - 配置复杂（需手动处理 Loader、Plugin、优化选项等）。
  - 示例：处理 Vue/React 项目需配置 Babel、CSS 加载器等。
- Vite
  - 开箱即用，预设支持 TypeScript、JSX、CSS Modules 等。
  - 配置更简洁（如 Vue 项目只需安装 @vitejs/plugin-vue）。